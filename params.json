{"name":"Open Escalar Role Tasks","body":"### Welcome to Open Escalar Role Tasks.\r\nThis is a large collection of scripts, puppet and chef recipies which can be use to configure server in the different clouds that Open Escalar manages.\r\nThe files here you can see them as templates for your tasks which at the end will take information from Open Escalars metadata service in order to customize and bring to live each of them once they are executed in thier respective targes (servers). \r\n\r\n### Scripting\r\nRemember that for each script file you'll have to specify the path for your interpreter if is not located under your common environment PATH and specify the exit value. Let's do an example:\r\n\r\n```\r\n#!/bin/bash\r\necho \"executing my task\"\r\nexit 0\r\n```\r\n\r\n### Puppet \r\nIn case of puppet make sure you're writing down all the classes you'll need in case you're not using Open Escalar public modules. One best practice while writing puppets is to use require to execute classes in an specific order if you wish to setup everyting on a single task. All the facter facts will be available by default. Keep in mind that order of the workflow which will execute all the role tasks can be defined in Open Escalar, but if you decided to execute your classes in an order here's an example:\r\n\r\n```\r\n#Configure my resolv.conf\r\nclass mydns {\r\n  file {\r\n    \"/etc/resolv.conf\":\r\n       owner => \"root\",\r\n       group => \"root\",\r\n       content => \"nameserver 127.0.0.1\\nnameserver 192.168.1.2\";\r\n}\r\nclass mylampstack {\r\n  require mydns\r\n  package {\r\n    \"httpd\":\r\n      ensure => \"latest\";\r\n    \"mysql-server\":\r\n      ensure => \"latest\";\r\n    \"php\":\r\n      ensure => \"installed\";\r\n  }\r\n  service {\r\n    \"httpd\":\r\n       ensure => \"running\";\r\n    \"mysqld\":\r\n       ensure => \"running\";\r\n  }\r\n}\r\n\r\nclass myapp {\r\n  require mylampstack\r\n  exec {\r\n    \"git clone git://github.com/myuser/myrepo.git\":\r\n      cwd     => \"/var/www/html/\",\r\n      creates => \"/var/www/html/myrepo/myfile\",\r\n      path    => [\"/usr/bin\", \"/usr/sbin\"],\r\n      onlyif => \"test -f /var/www/html/myrepo/myfile\";\r\n   }\r\n}\r\n\r\ninclude myapp\r\n```\r\n\r\n### Chef\r\nI'll finish this one up later :D\r\n\r\n","tagline":"Large collection of free and public role tasks that can be incorporated into openescalar","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}