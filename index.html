<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Open Escalar Role Tasks : Large collection of free and public role tasks that can be incorporated into openescalar" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Open Escalar Role Tasks</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/openescalar/roletask">View on GitHub</a>

          <h1 id="project_title">Open Escalar Role Tasks</h1>
          <h2 id="project_tagline">Large collection of free and public role tasks that can be incorporated into openescalar</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/openescalar/roletask/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/openescalar/roletask/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>Welcome to Open Escalar Role Tasks.</h3>

<p>This is a large collection of scripts, puppet and chef recipies which can be use to configure server in the different clouds that Open Escalar manages.
The files here you can see them as templates for your tasks which at the end will take information from Open Escalars metadata service in order to customize and bring to live each of them once they are executed in thier respective targes (servers). </p>

<h3>Scripting</h3>

<p>Remember that for each script file you'll have to specify the path for your interpreter if is not located under your common environment PATH and specify the exit value. Let's do an example:</p>

<pre><code>#!/bin/bash
echo "executing my task"
exit 0
</code></pre>

<h3>Puppet</h3>

<p>In case of puppet make sure you're writing down all the classes you'll need in case you're not using Open Escalar public modules. One best practice while writing puppets is to use require to execute classes in an specific order if you wish to setup everyting on a single task. All the facter facts will be available by default. Keep in mind that order of the workflow which will execute all the role tasks can be defined in Open Escalar, but if you decided to execute your classes in an order here's an example:</p>

<pre><code>#Configure my resolv.conf
class mydns {
  file {
    "/etc/resolv.conf":
       owner =&gt; "root",
       group =&gt; "root",
       content =&gt; "nameserver 127.0.0.1\nnameserver 192.168.1.2";
}
class mylampstack {
  require mydns
  package {
    "httpd":
      ensure =&gt; "latest";
    "mysql-server":
      ensure =&gt; "latest";
    "php":
      ensure =&gt; "installed";
  }
  service {
    "httpd":
       ensure =&gt; "running";
    "mysqld":
       ensure =&gt; "running";
  }
}

class myapp {
  require mylampstack
  exec {
    "git clone git://github.com/myuser/myrepo.git":
      cwd     =&gt; "/var/www/html/",
      creates =&gt; "/var/www/html/myrepo/myfile",
      path    =&gt; ["/usr/bin", "/usr/sbin"],
      onlyif =&gt; "test -f /var/www/html/myrepo/myfile";
   }
}

include myapp
</code></pre>

<h3>Chef</h3>

<p>I'll finish this one up later :D</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Open Escalar Role Tasks maintained by <a href="https://github.com/openescalar">openescalar</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
